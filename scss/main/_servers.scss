@use "../top/vars" as *;
@use "../top/pip";

// Server sidebar
.guilds-2JjMmN {
    background: $cream;
    --status-danger: #{$cream};

    // Rounded icons and folders
    .wrapper-2PSQCG foreignObject {
        mask: none;
    }

    .wrapper-3kah-n,
    .folder-241Joy,
    .circleIconButton-1VxDrg {
        border-radius: $size-max;
        overflow: hidden;
    }

    // Folders
    .folder-241Joy,
    .expandedFolderBackground-1kSAf6,
    .expandedFolderBackground-1kSAf6.collapsed-uGXEbi,
    .expandedFolderBackground-1kSAf6.collapsed-uGXEbi.hover-3m7-WT {
        background: $red;
    }

    .expandedFolderBackground-1kSAf6 {
        border-radius: $size-max;
        border: $size-s solid $black;
        left: 12px - $size-s;
        top: -$size-s;
        bottom: 8px - $size-s;
        min-height: 48px;
    }

    // Server not in folder
    .wrapper-2PSQCG:not(.wrapper-38slSD .wrapper-2PSQCG) {
        &,
        .svg-2ifYOU {
            width: 48px + 2 * $size-s;
            height: 48px + 2 * $size-s;
        }
    }

    .wrapper-3kah-n:not(.wrapper-38slSD .wrapper-3kah-n) {
        border: $size-s solid $black;
        box-sizing: border-box;
    }

    // DM icon
    .childWrapper-1j_1ub {
        background: $red;
        color: $cream;
    }

    // DM and server separator
    .guildSeparator-a4uisj {
        display: none;
    }

    // Add server and explore buttons
    .circleIconButton-1VxDrg,
    .circleIconButton-1VxDrg.selected-2r1Hvo {
        border: $size-s solid $black;
        background: $red;
        color: $cream;
    }

    // Unread pip
    .item-2LIpTv {
        @include pip.pip($color: $black);
        margin-left: 0;

        &[style*="20px"] {
            height: 20px !important;
        }

        &[style*="40px"] {
            height: 40px !important;
        }
    }

    // Reordering servers
    // Background behind dragged icon
    .placeholderMask-2FHNZU {
        border-radius: $size-max;

        .dragInner-1CUBf_ {
            background: $red;
        }
    }

    // Dragged icon target
    .target-1eRTCg.dragOver-1OKbo2::before,
    .centerTarget-S6BLFQ.dragOver-1OKbo2::before {
        background: $red;
        box-shadow: none;
    }

    // Mentions
    .base-3IDx3L {
        border: $size-xs solid $black;
        color: $black;
        padding: 0 0 4px 2px;
        background: $cream;

        // Live/event indicator
        .icon-2Ug6UV {
            padding: 3px 2px 0 0;
        }
    }

    // New unreads bubble
    :is(.unreadMentionsIndicatorBottom-3RJMnQ, .unreadMentionsIndicatorTop-2bTgUU) {
        padding: 2px;

        .unreadMentionsBar-ZXXoOH {
            border: $size-s solid $black;
            box-sizing: border-box;

            .text-2GsXbW {
                color: $black;
                font-size: 16px;
                margin: 0 0 6px 2px;
            }
        }
    }
}
